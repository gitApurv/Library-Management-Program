<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shopping Cart</title>

    <!------ Google Fonts ------>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500&family=Karla:wght@200;300;400;500&family=Montserrat+Alternates:ital,wght@0,300;0,400;1,300;1,400&family=Montserrat:wght@300;400;500&family=Open+Sans:ital,wght@0,300;0,400;1,300;1,400&display=swap"
      rel="stylesheet"
    />

    <!-- Bootstrap CSS-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />

    <!-----FontAwsome------>
    <script
      src="https://kit.fontawesome.com/9d9796826b.js"
      crossorigin="anonymous"
    ></script>

    <style>
      body {
        font-family: Arial, Helvetica, sans-serif;
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      .navbar {
        font-family: "Montserrat Alternates", sans-serif;
      }

      .active-btn {
        color: #555;
      }

      .active-btn::after {
        width: 100%;
      }

      .canvas-title {
        text-align: center;
      }

      .btn-purchase {
        text-align: center;
        margin: auto;
        padding: 2%;
        width: 50%;
      }

      .cart-total {
        text-align: right;
        font-size: 1.3rem;
      }

      .up-icon {
        color: black;
        position: fixed;
        float: right;
        z-index: 1;
        left: 95%;
        top: 85%;
        font-size: 2rem;
      }

      #design {
        height: 300px;
        width: auto;
      }

      #product-cards {
        padding: 5% 10%;
      }

      #shopping-cart {
        padding: 5% 5%;
      }
    </style>
  </head>

  <body>
    <!--Heading-->
    <nav class="navbar fixed-top bg-light">
      <div class="container-fluid">
        <a
          href="./index.html"
          style="
            text-decoration: none;
            font-size: 50px;
            color: #652e1a;
            margin: 0px;
          "
        >
          <h1 style="display: inline">Library Management</h1>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="40"
            height="40"
            fill="currentColor"
            class="bi bi-book-half"
            viewBox="0 0 16 16"
          >
            <path
              d="M8.5 2.687c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783"
            />
          </svg>
        </a>
        <a href="#shopping-cart" style="color: mediumblue">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="40"
            height="40"
            fill="currentColor"
            class="bi bi-cart-fill"
            viewBox="0 0 16 16"
          >
            <path
              d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"
            />
          </svg>
        </a>
      </div>
    </nav>
    <br /><br /><br />

    <!--Product Cards-->
    <section id="product-cards">
      <div class="container-fluid">
        <div class="row row-cols-2 row-cols-md-4 g-4">
          <div class="col filter-item all new">
            <div class="card h-100">
              <img
                src="Imgs/1.jpg"
                id="design"
                class="card-img-top shop-item-image"
                alt="..."
              />
              <div class="card-body">
                <h5 class="card-title shop-item-title">Let Us C++</h5>
                <button
                  type="button"
                  style="width: 100%"
                  class="btn btn-warning mt-auto shop-item-button"
                >
                  <i
                    class="fa-solid fa-cart-shopping"
                    style="margin-right: 4%"
                  ></i
                  >Issue
                </button>
              </div>
            </div>
          </div>

          <div class="col filter-item all new">
            <div class="card h-100">
              <img
                src="Imgs/2.jpg"
                id="design"
                class="card-img-top shop-item-image"
                alt="..."
              />
              <div class="card-body d-flex flex-column">
                <h5 class="card-title shop-item-title">Learning HTML</h5>
                <button
                  type="button"
                  style="width: 100%"
                  class="btn btn-warning mt-auto shop-item-button"
                >
                  <i
                    class="fa-solid fa-cart-shopping"
                    style="margin-right: 4%"
                  ></i
                  >Issue
                </button>
              </div>
            </div>
          </div>

          <div class="col filter-item all new">
            <div class="card h-100">
              <img
                src="Imgs/3.jpg"
                id="design"
                class="card-img-top shop-item-image"
                alt="..."
              />
              <div class="card-body">
                <h5 class="card-title shop-item-title">Introducing GO</h5>
                <button
                  type="button"
                  style="width: 100%"
                  class="btn btn-warning mt-auto shop-item-button"
                >
                  <i
                    class="fa-solid fa-cart-shopping"
                    style="margin-right: 4%"
                  ></i
                  >Issue
                </button>
              </div>
            </div>
          </div>

          <div class="col filter-item all new">
            <div class="card h-100">
              <img
                src="Imgs/4.jpg"
                id="design"
                class="card-img-top shop-item-image"
                alt="..."
              />
              <div class="card-body">
                <h5 class="card-title shop-item-title">Beginning Javascript</h5>
                <button
                  type="button"
                  style="width: 100%"
                  class="btn btn-warning mt-auto shop-item-button"
                >
                  <i
                    class="fa-solid fa-cart-shopping"
                    style="margin-right: 4%"
                  ></i
                  >Issue
                </button>
              </div>
            </div>
          </div>

          <div class="col filter-item all office-wear">
            <div class="card h-100">
              <img
                src="Imgs/5.jpg"
                id="design"
                class="card-img-top shop-item-image"
                alt="..."
              />
              <div class="card-body">
                <h5 class="card-title shop-item-title">Python</h5>
                <button
                  type="button"
                  style="width: 100%"
                  class="btn btn-warning mt-auto shop-item-button"
                >
                  <i
                    class="fa-solid fa-cart-shopping"
                    style="margin-right: 4%"
                  ></i
                  >Issue
                </button>
              </div>
            </div>
          </div>

          <div class="col filter-item all office-wear">
            <div class="card h-100">
              <img
                src="Imgs/6.jpg"
                id="design"
                class="card-img-top shop-item-image"
                alt="..."
              />
              <div class="card-body">
                <h5 class="card-title shop-item-title">Mastering CSS</h5>
                <button
                  type="button"
                  style="width: 100%"
                  class="btn btn-warning mt-auto shop-item-button"
                >
                  <i
                    class="fa-solid fa-cart-shopping"
                    style="margin-right: 4%"
                  ></i
                  >Issue
                </button>
              </div>
            </div>
          </div>

          <div class="col filter-item all office-wear">
            <div class="card h-100">
              <img
                src="Imgs/7.jpg"
                id="design"
                class="card-img-top shop-item-image"
                alt="..."
              />
              <div class="card-body">
                <h5 class="card-title shop-item-title">Rust in Action</h5>
                <button
                  type="button"
                  style="width: 100%"
                  class="btn btn-warning mt-auto shop-item-button"
                >
                  <i
                    class="fa-solid fa-cart-shopping"
                    style="margin-right: 4%"
                  ></i
                  >Issue
                </button>
              </div>
            </div>
          </div>

          <div class="col filter-item all offers">
            <div class="card h-100">
              <img
                src="Imgs/8.png"
                id="design"
                class="card-img-top shop-item-image"
                alt="..."
              />
              <div class="card-body">
                <h5 class="card-title shop-item-title">C# in Depth</h5>
                <button
                  type="button"
                  style="width: 100%"
                  class="btn btn-warning mt-auto shop-item-button"
                >
                  <i
                    class="fa-solid fa-cart-shopping"
                    style="margin-right: 4%"
                  ></i
                  >Issue
                </button>
              </div>
            </div>
          </div>

          <div class="col filter-item all new">
            <div class="card h-100">
              <img
                src="Imgs/9.jpg"
                id="design"
                class="card-img-top shop-item-image"
                alt="..."
              />
              <div class="card-body">
                <h5 class="card-title shop-item-title">
                  Engineering Mathematics
                </h5>
                <button
                  type="button"
                  style="width: 100%"
                  class="btn btn-warning mt-auto shop-item-button"
                >
                  <i
                    class="fa-solid fa-cart-shopping"
                    style="margin-right: 4%"
                  ></i
                  >Issue
                </button>
              </div>
            </div>
          </div>

          <div class="col filter-item all new">
            <div class="card h-100">
              <img
                src="Imgs/10.jpg"
                id="design"
                class="card-img-top shop-item-image"
                alt="..."
              />
              <div class="card-body">
                <h5 class="card-title shop-item-title">Algorithms</h5>
                <button
                  type="button"
                  style="width: 100%"
                  class="btn btn-warning mt-auto shop-item-button"
                >
                  <i
                    class="fa-solid fa-cart-shopping"
                    style="margin-right: 4%"
                  ></i
                  >Issue
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!--Shopping Cart-->
    <section class="container content-section" id="shopping-cart">
      <h3 style="text-decoration: none; text-align: center; margin-bottom: 7%">
        Cart
      </h3>

      <table class="table table-hover table-cart">
        <thead>
          <tr>
            <th>Item</th>
            <th>Quantity</th>
          </tr>
        </thead>
        <tbody class="cart-items"></tbody>
      </table>

      <div class="btn-purchase" style="margin-top: 10%">
        <button type="button" class="btn btn-dark btn-purchase">
          <i class="fa-solid fa-cart-shopping" style="margin-right: 6%"></i
          >ISSUE
        </button>
      </div>
    </section>

    <!---- Bootstrap Script---->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>

    <!--External JS-->
    <script>
      if (document.readyState == "loading") {
        document.addEventListener("DOMContentLoaded", ready);
      } else {
        ready();
      }

      function ready() {
        var removeCartItemButton =
          document.getElementsByClassName("btn-danger");
        for (var i = 0; i < removeCartItemButton.length; i++) {
          var button = removeCartItemButton[i];
          button.addEventListener("click", removeCartItem);
        }

        var addToCartButtons =
          document.getElementsByClassName("shop-item-button");
        for (var i = 0; i < addToCartButtons.length; i++) {
          var button = addToCartButtons[i];
          button.addEventListener("click", addToCartClicked);
        }

        document
          .getElementsByClassName("btn-purchase")[0]
          .addEventListener("click", purchaseClicked);
      }

      function purchaseClicked() {
        alert("Thanks for Issuing!!");
        var cartItems = document.getElementsByClassName("cart-items")[0];
        while (cartItems.hasChildNodes()) {
          cartItems.removeChild(cartItems.firstChild);
        }
      }

      function removeCartItem(event) {
        var buttonClicked = event.target;
        buttonClicked.parentElement.parentElement.remove();
      }

      function addToCartClicked(event) {
        var button = event.target;
        var shopItem = button.parentElement.parentElement;
        var title =
          shopItem.getElementsByClassName("shop-item-title")[0].innerText;
        var imageSrc =
          shopItem.getElementsByClassName("shop-item-image")[0].src;
        addItemToCart(title, imageSrc);
      }

      function addItemToCart(title, imageSrc) {
        let cartRow = document.createElement("tr");
        cartRow.classList.add("cart-row");

        var cartItems = document.getElementsByClassName("cart-items")[0];
        var cartItemNames = cartItems.getElementsByClassName("cart-item-title");

        for (i = 0; i < cartItemNames.length; i++) {
          if (cartItemNames[i].innerText == title) {
            alert("This item already has added to the cart!");
            return;
          }
        }

        var cartRowContents = `

        <td class="cart-item cart-column">
            <img class="cart-item-image" src="${imageSrc}" width="50" height="50">
            <span class="cart-item-title">${title}</span>                  
        </td>
        <td class="cart-item cart-column">
            <input class="cart-quantity-input" type="number" value="1" style="width: 50px;margin-right:10px;">
            <button class="btn btn-danger" type="button">Remove</button>
        </td>        
    `;

        cartRow.innerHTML = cartRowContents;
        cartItems.append(cartRow);
        cartRow
          .getElementsByClassName("btn-danger")[0]
          .addEventListener("click", removeCartItem);
        cartRow
          .getElementsByClassName("cart-quantity-input")[0]
          .addEventListener("change", quantityChanged);
      }
    </script>
  </body>
</html>
